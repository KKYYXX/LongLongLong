
# ğŸ“˜ UserModel æ¥å£æ–‡æ¡£

è¯¥æ–‡æ¡£æ•´ç†äº†æ‰€æœ‰ä»¥ `/user/` å¼€å¤´çš„æ¥å£ï¼Œæ¶µç›–ç”¨æˆ·æ³¨å†Œã€æƒé™ç®¡ç†ã€éªŒè¯ã€æŸ¥è¯¢ç­‰åŠŸèƒ½ã€‚

---

## ğŸ“Œ 1. ç”¨æˆ·æ³¨å†Œæ¥å£

- **æ¥å£è·¯å¾„**ï¼š`POST /user/register`
- **è¯·æ±‚å‚æ•°**ï¼ˆ`application/x-www-form-urlencoded`ï¼‰ï¼š

| å‚æ•°å      | ç±»å‹   | æ˜¯å¦å¿…å¡« | è¯´æ˜           |
|-------------|--------|----------|----------------|
| name        | string | æ˜¯       | å§“å           |
| phone       | string | æ˜¯       | æ‰‹æœºå·         |
| password    | string | æ˜¯       | å¯†ç ï¼ˆæ˜æ–‡ï¼‰   |
| wx_openid   | string | æ˜¯       | å¾®ä¿¡ openid    |

- **æˆåŠŸè¿”å›**ï¼ˆç”¨æˆ·å·²å­˜åœ¨ä¸”åŒ¹é…ï¼‰ï¼š
```json
{
  "name": "å¼ ä¸‰",
  "phone": "12345678901",
  "wx_openid": "xxx",
  "password": "123456"
}
```

- **å¤±è´¥è¿”å›**ï¼š

| çŠ¶æ€ç  | è¿”å›å†…å®¹ |
|--------|----------|
| 400    | ç”¨æˆ·ä¿¡æ¯ä¸åŒ¹é… |
| 404    | ç”¨æˆ·ä¸å­˜åœ¨     |

---

## ğŸ“Œ 2. ç”¨æˆ·éªŒè¯ï¼ˆç”¨äºèº«ä»½è½¬è®©ï¼‰

- **æ¥å£è·¯å¾„**ï¼š`POST /user/validate`
- **è¯·æ±‚å‚æ•°**ï¼š

| å‚æ•°å   | ç±»å‹   | æ˜¯å¦å¿…å¡« | è¯´æ˜         |
|----------|--------|----------|--------------|
| name     | string | æ˜¯       | å§“å         |
| phone    | string | æ˜¯       | æ‰‹æœºå·       |
| password | string | æ˜¯       | æ˜æ–‡å¯†ç      |

- **é€»è¾‘è¯´æ˜**ï¼š
  - ç”¨æˆ·å­˜åœ¨ã€ä¿¡æ¯åŒ¹é…ã€å¹¶ä¸” `principal=True` æ‰è§†ä¸ºéªŒè¯é€šè¿‡ã€‚

- **æˆåŠŸè¿”å›**ï¼š
```json
{
  "name": "å¼ ä¸‰",
  "phone": "12345678901",
  "wx_openid": "xxx",
  "principal": true
}
```

- **å¤±è´¥æƒ…å†µ**ï¼š

| çŠ¶æ€ç  | message                        |
|--------|--------------------------------|
| 400    | å§“åæˆ–å¯†ç é”™è¯¯                 |
| 403    | è¯¥ç”¨æˆ·ä¸æ˜¯è´Ÿè´£äººï¼Œæ— æ³•è½¬è®©     |
| 404    | ç”¨æˆ·ä¸å­˜åœ¨                     |

---

## ğŸ“Œ 3. æŸ¥è¯¢æ‹¥æœ‰ 15é¡¹æ¸…å•ã€æŸ¥è¯¢æƒé™ã€‘çš„ç”¨æˆ·

- **æ¥å£è·¯å¾„**ï¼š`GET /user/query_15`
- **è¿”å›**ï¼š
```json
[
  {"name": "å¼ ä¸‰", "phone": "12345678901"},
  ...
]
```

---

## ğŸ“Œ 4. æ·»åŠ  15é¡¹æ¸…å•ã€æŸ¥è¯¢æƒé™ã€‘

- **æ¥å£è·¯å¾„**ï¼š`POST /user/query_15_add`
- **å‚æ•°**ï¼š`name`, `phone`
- **æˆåŠŸè¿”å›**ï¼šæ‰€æœ‰ `query_15=True` çš„ç”¨æˆ·ä¿¡æ¯

---

## ğŸ“Œ 5. åˆ é™¤ 15é¡¹æ¸…å•ã€æŸ¥è¯¢æƒé™ã€‘

- **æ¥å£è·¯å¾„**ï¼š`POST /user/query_15_delete`
- **å‚æ•°**ï¼š`name`, `phone`
- **æˆåŠŸè¿”å›**ï¼šæ‰€æœ‰ `query_15=True` çš„ç”¨æˆ·ä¿¡æ¯
- **å¤±è´¥æƒ…å†µ**ï¼š
  - ç”¨æˆ·æ— æƒé™ï¼ˆ`query_15=False`ï¼‰
  - ç”¨æˆ·ä¸å­˜åœ¨

---

## ğŸ“Œ 6~9. æƒé™æ§åˆ¶æ¥å£åˆ—è¡¨

| æƒé™åç§°       | æŸ¥è¯¢è·¯å¾„            | æ·»åŠ è·¯å¾„               | åˆ é™¤è·¯å¾„                 |
|----------------|---------------------|--------------------------|--------------------------|
| 15é¡¹æ¸…å•ä¿®æ”¹æƒé™ | `/user/alter_15`     | `/user/alter_15_add`     | `/user/alter_15_delete`  |
| æ”¿ç­–æ–‡ä»¶ä¿®æ”¹æƒé™ | `/user/alter_zc`     | `/user/alter_zc_add`     | `/user/alter_zc_delete`  |
| å…¸å‹æ¡ˆä¾‹ä¿®æ”¹æƒé™ | `/user/alter_model`  | `/user/alter_model_add`  | `/user/alter_model_delete` |
| è¿›åº¦ä¿¡æ¯ä¿®æ”¹æƒé™ | `/user/alter_progress` | `/user/alter_progress_add` | `/user/alter_progress_delete` |

---

## ğŸ“ å‚æ•°è¯´æ˜ç»Ÿä¸€ï¼ˆé€‚ç”¨äºæ‰€æœ‰æ·»åŠ /åˆ é™¤æƒé™æ¥å£ï¼‰

- è¯·æ±‚å‚æ•°æ ¼å¼ï¼š`application/x-www-form-urlencoded`
- è¯·æ±‚å‚æ•°ï¼š

| å‚æ•°å | ç±»å‹   | æ˜¯å¦å¿…å¡« | è¯´æ˜     |
|--------|--------|----------|----------|
| name   | string | æ˜¯       | å§“å     |
| phone  | string | æ˜¯       | æ‰‹æœºå·   |

---

## âœ… å­—æ®µè¯´æ˜ï¼ˆUserModelï¼‰

| å­—æ®µå           | ç±»å‹     | è¯´æ˜                         |
|------------------|----------|------------------------------|
| name             | string   | å§“å                         |
| phone            | string   | æ‰‹æœºå·                       |
| password         | string   | å¯†ç ï¼ˆæ˜æ–‡ï¼Œå»ºè®®åŠ å¯†ï¼‰       |
| wx_openid        | string   | å¾®ä¿¡openid                   |
| principal        | boolean  | æ˜¯å¦è´Ÿè´£äººï¼ˆç”¨äºè½¬è®©éªŒè¯ï¼‰   |
| query_15         | boolean  | æ˜¯å¦æœ‰ 15é¡¹æ¸…å•æŸ¥è¯¢æƒé™      |
| alter_15         | boolean  | æ˜¯å¦æœ‰ 15é¡¹æ¸…å•ä¿®æ”¹æƒé™      |
| alter_zc         | boolean  | æ˜¯å¦æœ‰æ”¿ç­–æ–‡ä»¶ä¿®æ”¹æƒé™       |
| alter_model      | boolean  | æ˜¯å¦æœ‰å…¸å‹æ¡ˆä¾‹ä¿®æ”¹æƒé™       |
| alter_progress   | boolean  | æ˜¯å¦æœ‰è¿›åº¦ä¿¡æ¯ä¿®æ”¹æƒé™       |
